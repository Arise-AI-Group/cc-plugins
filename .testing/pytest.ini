[pytest]
# Python path - ensures imports work correctly
pythonpath = ..

# Test discovery - all plugin tests are in .testing/plugins/
testpaths = plugins
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Markers for test levels
markers =
    level1: Dry tests with mocked responses (no external communication)
    level2: Read-only tests with real API calls (list, get, query operations)
    level3: Write tests with real API calls (create, update, delete operations)
    slow: Tests that take more than 10 seconds
    requires_credentials: Tests that require valid API credentials
    integration: Cross-plugin integration tests

# Default options
addopts =
    -v
    --tb=short
    -ra
    --strict-markers

# Test output
log_cli = true
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)s] %(message)s

# Timeout (per test)
timeout = 60

# Fixture scope warnings
filterwarnings =
    error::pytest.PytestUnraisableExceptionWarning
